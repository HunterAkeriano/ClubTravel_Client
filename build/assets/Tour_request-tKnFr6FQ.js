import{$ as w,c as yt,g as bt,j as Dt,H as wt}from"./header-9Fuft6xP.js";import{F as _t}from"./footer-pXvuOvyE.js";class Ct{dropDown;dropMain;btn;allAccordions;countryMainDrop;tourMainDrop;constructor(){this.dropDown=w(".drop-country"),this.dropMain=w(".drop-country__accordions"),this.btn=w(".drop-country__btn"),this.allAccordions=w(".accordion"),this.countryMainDrop=w(".drop-country__county"),this.tourMainDrop=w(".drop-country__tour"),this.init()}init(){this.open(),this.observer(),this.accordion()}checkTour(){return this.countryMainDrop.html()==="Страна"?(console.log(1),!1):(console.log(2),!0)}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("drop-country_active")});const n=this;w(document).on("click",function(v){n.dropDown.has(v.target).length==0&&n.dropDown.removeClass("drop-country_active")})}observer(){const n=Number(this.dropMain.height()),v=this;w(document).ready(function(){const D={root:null,rootMargin:`0px 0px -${n+30}px 0px`,threshold:1};function d(r){r.forEach(m=>{const g=Number(w(window).height()),p=Number(m.boundingClientRect.top);g>700&&p>0&&(m.isIntersecting?(v.dropDown.addClass("drop-country_bottom"),v.dropDown.removeClass("drop-country_top")):(v.dropDown.addClass("drop-country_top"),v.dropDown.removeClass("drop-country_bottom")))})}const t=w(".drop-country__btn"),i=new IntersectionObserver(d,D);t.each(function(r,m){i.observe(m)})})}accordion(){const n=this;this.allAccordions.each((d,t)=>{D(t),v(t)});function v(d){const t=d.querySelectorAll("li"),i=String(d.querySelector(".accordion__country")?.textContent);t.forEach(r=>{r.addEventListener("click",()=>{n.countryMainDrop.html(i),n.tourMainDrop.html(String(r.textContent)),n.dropDown.removeClass("drop-country_active")})})}function D(d){document.addEventListener("click",t=>{d.contains(t.target)?d.classList.toggle("accordion_active"):d.classList.remove("accordion_active")})}}}var ht={exports:{}};(function(I,n){(function(v,D){I.exports=D()})(yt,function(){return function(){var v={d:function(u,e){for(var a in e)v.o(e,a)&&!v.o(u,a)&&Object.defineProperty(u,a,{enumerable:!0,get:e[a]})},o:function(u,e){return Object.prototype.hasOwnProperty.call(u,e)}},D={};v.d(D,{default:function(){return P}});var d={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},t={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:d.days,minView:d.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function i(u){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof u=="string"?e.querySelector(u):u}function r(){let{tagName:u="div",className:e="",innerHtml:a="",id:s="",attrs:h={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=document.createElement(u);return e&&l.classList.add(...e.split(" ")),s&&(l.id=s),a&&(l.innerHTML=a),h&&m(l,h),l}function m(u,e){for(let[a,s]of Object.entries(e))s!==void 0&&u.setAttribute(a,s);return u}function g(u){return new Date(u.getFullYear(),u.getMonth()+1,0).getDate()}function p(u){let e=u.getHours(),{hours:a,dayPeriod:s}=C(e);return{year:u.getFullYear(),month:u.getMonth(),fullMonth:u.getMonth()+1<10?"0"+(u.getMonth()+1):u.getMonth()+1,date:u.getDate(),fullDate:u.getDate()<10?"0"+u.getDate():u.getDate(),day:u.getDay(),hours:e,fullHours:S(e),hours12:a,dayPeriod:s,fullHours12:S(a),minutes:u.getMinutes(),fullMinutes:u.getMinutes()<10?"0"+u.getMinutes():u.getMinutes()}}function C(u){return{dayPeriod:u>11?"pm":"am",hours:u%12==0?12:u%12}}function S(u){return u<10?"0"+u:u}function x(u){let e=10*Math.floor(u.getFullYear()/10);return[e,e+9]}function F(){let u=[];for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return a.forEach(h=>{if(typeof h=="object")for(let l in h)h[l]&&u.push(l);else h&&u.push(h)}),u.join(" ")}function T(u,e){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.days;if(!u||!e)return!1;let s=p(u),h=p(e);return{[d.days]:s.date===h.date&&s.month===h.month&&s.year===h.year,[d.months]:s.month===h.month&&s.year===h.year,[d.years]:s.year===h.year}[a]}function L(u,e,a){let s=B(u,!1).getTime(),h=B(e,!1).getTime();return a?s>=h:s>h}function H(u,e){return!L(u,e,!0)}function B(u){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=new Date(u.getTime());return typeof e!="boolean"||e||function(s){s.setHours(0,0,0,0)}(a),a}function O(u,e,a){u.length?u.forEach(s=>{s.addEventListener(e,a)}):u.addEventListener(e,a)}function Q(u,e){return!(!u||u===document||u instanceof DocumentFragment)&&(u.matches(e)?u:Q(u.parentNode,e))}function Z(u,e,a){return u>a?a:u<e?e:u}function tt(u){for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return a.filter(h=>h).forEach(h=>{for(let[l,o]of Object.entries(h))if(o!==void 0&&o.toString()==="[object Object]"){let c=u[l]!==void 0?u[l].toString():void 0,f=o.toString(),y=Array.isArray(o)?[]:{};u[l]=u[l]?c!==f?y:u[l]:y,tt(u[l],o)}else u[l]=o}),u}function R(u){let e=u;return u instanceof Date||(e=new Date(u)),isNaN(e.getTime())&&(console.log(`Unable to convert value "${u}" to Date object`),e=!1),e}function nt(u){let e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+u+")($|<|"+e+")","g")}function K(u,e,a){return(e=function(s){var h=function(l,o){if(typeof l!="object"||l===null)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var f=c.call(l,"string");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(s);return typeof h=="symbol"?h:String(h)}(e))in u?Object.defineProperty(u,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[e]=a,u}class dt{constructor(){let{type:e,date:a,dp:s,opts:h,body:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};K(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),K(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),K(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),K(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),K(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),K(this,"onChangeFocusDate",o=>{if(!o)return void(this.focused&&this.removeFocus());let c=T(o,this.date,this.type);c?this.focus():!c&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),K(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=e,this.singleType=this.type.slice(0,-1),this.date=a,this.dp=s,this.opts=h,this.body=l,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:a}=this.opts;a&&(this.customData=a({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(d.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(d.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(d.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(d.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var e;let{year:a,month:s,date:h}=p(this.date),l=((e=this.customData)===null||e===void 0?void 0:e.attrs)||{};this.$cell=r({className:this._getClassName(),attrs:{"data-year":a,"data-month":s,"data-date":h,...l}})}_getClassName(){var e,a;let s=new Date,{selectOtherMonths:h,selectOtherYears:l}=this.opts,{minDate:o,maxDate:c}=this.dp,{day:f}=p(this.date),y=this._isOutOfMinMaxRange(),b=(e=this.customData)===null||e===void 0?void 0:e.disabled,_=F("air-datepicker-cell",`-${this.singleType}-`,{"-current-":T(s,this.date,this.type),"-min-date-":o&&T(o,this.date,this.type),"-max-date-":c&&T(c,this.date,this.type)}),k="";switch(this.type){case d.days:k=F({"-weekend-":this.dp.isWeekend(f),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!h||y||b});break;case d.months:k=F({"-disabled-":y||b});break;case d.years:k=F({"-other-decade-":this.isOtherDecade,"-disabled-":y||this.isOtherDecade&&!l||b})}return F(_,k,(a=this.customData)===null||a===void 0?void 0:a.classes)}_getHtml(){var e;let{year:a,month:s,date:h}=p(this.date),{showOtherMonths:l,showOtherYears:o}=this.opts;if((e=this.customData)!==null&&e!==void 0&&e.html)return this.customData.html;switch(this.type){case d.days:return!l&&this.isOtherMonth?"":h;case d.months:return this.dp.locale[this.opts.monthsField][s];case d.years:return!o&&this.isOtherDecade?"":a}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:a}=this.dp,{type:s,date:h}=this,{month:l,year:o,date:c}=p(h),f=s===d.days,y=s===d.years,b=!!e&&new Date(o,y?e.getMonth():l,f?c:e.getDate()),_=!!a&&new Date(o,y?a.getMonth():l,f?c:a.getDate());return e&&a?H(b,e)||L(_,a):e?H(b,e):a?L(_,a):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:e,rangeDateTo:a}=this.dp,s=F({"-in-range-":e&&a&&(h=this.date,l=e,o=a,L(h,l)&&H(h,o)),"-range-from-":e&&T(this.date,e,this.type),"-range-to-":a&&T(this.date,a,this.type)});var h,l,o;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),s&&this.$cell.classList.add(...s.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){T(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function V(u,e,a){return(e=function(s){var h=function(l,o){if(typeof l!="object"||l===null)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var f=c.call(l,"string");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(s);return typeof h=="symbol"?h:String(h)}(e))in u?Object.defineProperty(u,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[e]=a,u}let ct={[d.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${d.days}-"></div>`,[d.months]:`<div class="air-datepicker-body--cells -${d.months}-"></div>`,[d.years]:`<div class="air-datepicker-body--cells -${d.years}-"></div>`};const X=".air-datepicker-cell";class j{constructor(e){let{dp:a,type:s,opts:h}=e;V(this,"handleClick",l=>{let o=l.target.closest(X).adpCell;if(o.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let c=this.dp._checkIfDateIsSelected(o.date,o.type);c?this.dp._handleAlreadySelectedDates(c,o.date):this.dp.selectDate(o.date)}),V(this,"handleDayNameClick",l=>{let o=l.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(o),datepicker:this.dp})}),V(this,"onChangeCurrentView",l=>{l!==this.type?this.hide():(this.show(),this.render())}),V(this,"onMouseOverCell",l=>{let o=Q(l.target,X);this.dp.setFocusDate(!!o&&o.adpCell.date)}),V(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),V(this,"onClickBody",l=>{let{onClickDayName:o}=this.opts,c=l.target;c.closest(X)&&this.handleClick(l),o&&c.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(l)}),V(this,"onMouseDown",l=>{this.pressed=!0;let o=Q(l.target,X),c=o&&o.adpCell;T(c.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),T(c.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),V(this,"onMouseMove",l=>{if(!this.pressed||!this.dp.isMinViewReached)return;l.preventDefault();let o=Q(l.target,X),c=o&&o.adpCell,{selectedDates:f,rangeDateTo:y,rangeDateFrom:b}=this.dp;if(!c||c.isDisabled)return;let{date:_}=c;if(f.length===2){if(this.rangeFromFocused&&!L(_,y)){let{hours:k,minutes:E}=p(b);_.setHours(k),_.setMinutes(E),this.dp.rangeDateFrom=_,this.dp.replaceDate(b,_)}if(this.rangeToFocused&&!H(_,b)){let{hours:k,minutes:E}=p(y);_.setHours(k),_.setMinutes(E),this.dp.rangeDateTo=_,this.dp.replaceDate(y,_)}}}),V(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),V(this,"onChangeViewDate",(l,o)=>{if(!this.isVisible)return;let c=x(l),f=x(o);switch(this.dp.currentView){case d.days:if(T(l,o,d.months))return;break;case d.months:if(T(l,o,d.years))return;break;case d.years:if(c[0]===f[0]&&c[1]===f[1])return}this.render()}),V(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(l=>{this.$cells.appendChild(l.render())})}),this.dp=a,this.type=s,this.opts=h,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===d.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:a}=this.opts;O(this.$el,"mouseover",this.onMouseOverCell),O(this.$el,"mouseout",this.onMouseOutCell),O(this.$el,"click",this.onClickBody),e&&a&&(O(this.$el,"mousedown",this.onMouseDown),O(this.$el,"mousemove",this.onMouseMove),O(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(d.eventChangeViewDate,this.onChangeViewDate),this.dp.on(d.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=r({className:`air-datepicker-body -${this.type}-`,innerHtml:ct[this.type]}),this.$names=i(".air-datepicker-body--day-names",this.$el),this.$cells=i(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,a="",s=this.dp.isWeekend,{onClickDayName:h}=this.opts,l=e,o=0;for(;o<7;){let c=l%7;a+=`<div class="${F("air-datepicker-body--day-name",{[d.cssClassWeekend]:s(c),"-clickable-":!!h})}" data-day-index='${c}'>${this.dp.locale.daysMin[c]}</div>`,o++,l++}return a}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCell(e){let{type:a,dp:s,opts:h}=this;return new dt({type:a,dp:s,opts:h,date:e,body:this})}_generateCells(){j.getDatesFunction(this.type)(this.dp,e=>{this.cells.push(this._generateCell(e))})}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(e=>e.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(d.eventChangeViewDate,this.onChangeViewDate),this.dp.off(d.eventChangeCurrentView,this.onChangeCurrentView)}static getDaysDates(e,a){let{viewDate:s,locale:{firstDay:h}}=e,l=g(s),{year:o,month:c}=p(s),f=new Date(o,c,1),y=new Date(o,c,l),b=f.getDay()-h,_=6-y.getDay()+h;b=b<0?b+7:b,_=_>6?_-7:_;let k=function($,it){let{year:at,month:st,date:vt}=p($);return new Date(at,st,vt-it)}(f,b),E=l+b+_,N=k.getDate(),{year:A,month:et}=p(k),W=0;const J=[];for(;W<E;){let $=new Date(A,et,N+W);a&&a($),J.push($),W++}return J}static getMonthsDates(e,a){let{year:s}=e.parsedViewDate,h=0,l=[];for(;h<12;){const o=new Date(s,h);l.push(o),a&&a(o),h++}return l}static getYearsDates(e,a){let s=x(e.viewDate),h=s[0]-1,l=s[1]+1,o=h,c=[];for(;o<=l;){const f=new Date(o,0);c.push(f),a&&a(f),o++}return c}static getDatesFunction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.days;return{[d.days]:j.getDaysDates,[d.months]:j.getMonthsDates,[d.years]:j.getYearsDates}[e]}}function z(u,e,a){return(e=function(s){var h=function(l,o){if(typeof l!="object"||l===null)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var f=c.call(l,"string");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(s);return typeof h=="symbol"?h:String(h)}(e))in u?Object.defineProperty(u,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[e]=a,u}class ut{constructor(e){let{dp:a,opts:s}=e;z(this,"onClickNav",h=>{let l=Q(h.target,".air-datepicker-nav--action");if(!l)return;let o=l.dataset.action;this.dp[o]()}),z(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),z(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),z(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),z(this,"update",()=>{let{prevHtml:h,nextHtml:l}=this.opts;this.$prev.innerHTML=h,this.$next.innerHTML=l,this._resetNavStatus(),this.render(),this.handleNavStatus()}),z(this,"renderDelay",()=>{setTimeout(this.render)}),z(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(h,l){for(let o in l)l[o]?h.classList.add(o):h.classList.remove(o)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=a,this.opts=s,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=i(".air-datepicker-nav--title",this.$el),this.$prev=i('[data-action="prev"]',this.$el),this.$next=i('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(d.eventChangeViewDate,this.onChangeViewDate),this.dp.on(d.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(d.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(d.eventChangeTime,this.render))}destroy(){this.dp.off(d.eventChangeViewDate,this.onChangeViewDate),this.dp.off(d.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(d.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(d.eventChangeTime,this.render))}_createElement(){this.$el=r({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:a}=this,s=a.navTitles[e.currentView];return typeof s=="function"?s(e):e.formatDate(e.viewDate,s)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:a,maxDate:s}=this.dp;if(!a&&!s||!e)return;let{year:h,month:l}=this.dp.parsedViewDate,o=!!a&&p(a),c=!!s&&p(s);switch(this.dp.currentView){case d.days:a&&o.month>=l&&o.year>=h&&this._disableNav("prev"),s&&c.month<=l&&c.year<=h&&this._disableNav("next");break;case d.months:a&&o.year>=h&&this._disableNav("prev"),s&&c.year<=h&&this._disableNav("next");break;case d.years:{let f=x(this.dp.viewDate);a&&o.year>=f[0]&&this._disableNav("prev"),s&&c.year<=f[1]&&this._disableNav("next");break}}}_disableNav(e){i('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(e){for(var a=arguments.length,s=new Array(a>1?a-1:0),h=1;h<a;h++)s[h-1]=arguments[h];e.length?e.forEach(l=>{l.classList.remove(...s)}):e.classList.remove(...s)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:a}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${a}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find(a=>typeof e[a]=="function")}}var ot={today:{content:u=>u.locale.today,onClick:u=>u.setViewDate(new Date)},clear:{content:u=>u.locale.clear,onClick:u=>u.clear()}};class mt{constructor(e){let{dp:a,opts:s}=e;this.dp=a,this.opts=s,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=r({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach(a=>{let s=a;typeof a=="string"&&ot[a]&&(s=ot[a]);let h=this.createButton(s);s.onClick&&this.attachEventToButton(h,s.onClick),this.$el.appendChild(h)})}attachEventToButton(e,a){e.addEventListener("click",()=>{a(this.dp)})}createButton(e){let{content:a,className:s,tagName:h="button",attrs:l={}}=e;return r({tagName:h,innerHtml:`<span tabindex='-1'>${typeof a=="function"?a(this.dp):a}</span>`,className:F("air-datepicker-button",s),attrs:l})}render(){this.generateButtons()}}function U(u,e,a){return(e=function(s){var h=function(l,o){if(typeof l!="object"||l===null)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var f=c.call(l,"string");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(s);return typeof h=="symbol"?h:String(h)}(e))in u?Object.defineProperty(u,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[e]=a,u}class pt{constructor(){let{opts:e,dp:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};U(this,"toggleTimepickerIsActive",h=>{this.dp.timepickerIsActive=h}),U(this,"onChangeSelectedDate",h=>{let{date:l,updateTime:o=!1}=h;l&&(this.setMinMaxTime(l),this.setCurrentTime(!!o&&l),this.addTimeToDate(l))}),U(this,"onChangeLastSelectedDate",h=>{h&&(this.setTime(h),this.render())}),U(this,"onChangeInputRange",h=>{let l=h.target;this[l.getAttribute("name")]=l.value,this.updateText(),this.dp.trigger(d.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),U(this,"onMouseEnterLeave",h=>{let l=h.target.getAttribute("name"),o=this.$minutesText;l==="hours"&&(o=this.$hoursText),o.classList.toggle("-focus-")}),U(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),U(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=e,this.dp=a;let{timeFormat:s}=this.dp.locale;s&&(s.match(nt("h"))||s.match(nt("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(d.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(d.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),O(this.$ranges,e,this.onChangeInputRange),O(this.$ranges,"mouseenter",this.onMouseEnterLeave),O(this.$ranges,"mouseleave",this.onMouseEnterLeave),O(this.$ranges,"focus",this.onFocus),O(this.$ranges,"mousedown",this.onFocus),O(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=r({className:F("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(d.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(d.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:a,displayHours:s,minutes:h,minHours:l,minMinutes:o,maxHours:c,maxMinutes:f,dayPeriod:y,opts:{hoursStep:b,minutesStep:_}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${S(s)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${S(h)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${y}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${a}" min="${l}" max="${c}" step="${b}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${h}" min="${o}" max="${f}" step="${_}"/>   </div></div>`}defineDOM(){let e=a=>i(a,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:a,maxDate:s}=this.dp;a&&T(e,a)&&this.setMinTimeFromMinDate(a),s&&T(e,s)&&this.setMaxTimeFromMaxDate(s)}}setCurrentTime(e){let{hours:a,minutes:s}=e?p(e):this;this.hours=Z(a,this.minHours,this.maxHours),this.minutes=Z(s,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:a,maxHours:s,maxMinutes:h}=this.opts;this.minHours=Z(e,0,23),this.minMinutes=Z(a,0,59),this.maxHours=Z(s,0,23),this.maxMinutes=Z(h,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:a}=this.dp;this.minHours=e.getHours(),a&&a.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:a}=this.dp;this.maxHours=e.getHours(),a&&a.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}updateSliders(){m(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,m(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=S(this.displayHours),this.$minutesText.innerHTML=S(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:a,dayPeriod:s}=C(e);this.displayHours=this.ampm?a:e,this.dayPeriod=s}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function Y(u,e,a){return(e=function(s){var h=function(l,o){if(typeof l!="object"||l===null)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var f=c.call(l,"string");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(s);return typeof h=="symbol"?h:String(h)}(e))in u?Object.defineProperty(u,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[e]=a,u}class ft{constructor(e){let{dp:a,opts:s}=e;Y(this,"pressedKeys",new Set),Y(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],h=>h.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],h=>h.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],h=>h.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],h=>h.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],h=>h.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],h=>h.year-=10],[["Control","Shift","ArrowUp"],(h,l)=>l.up()]])),Y(this,"handleHotKey",h=>{let l=this.hotKeys.get(h),o=p(this.getInitialFocusDate());l(o,this.dp);let{year:c,month:f,date:y}=o,b=g(new Date(c,f));b<y&&(y=b);let _=this.dp.getClampedDate(new Date(c,f,y));this.dp.setFocusDate(_,{viewDateTransition:!0})}),Y(this,"isHotKeyPressed",()=>{let h=!1,l=this.pressedKeys.size,o=c=>this.pressedKeys.has(c);for(let[c]of this.hotKeys){if(h)break;if(Array.isArray(c[0]))c.forEach(f=>{h||l!==f.length||(h=f.every(o)&&c)});else{if(l!==c.length)continue;h=c.every(o)&&c}}return h}),Y(this,"isArrow",h=>h>=37&&h<=40),Y(this,"onKeyDown",h=>{let{key:l,which:o}=h,{dp:c,dp:{focusDate:f},opts:y}=this;this.registerKey(l);let b=this.isHotKeyPressed();if(b)return h.preventDefault(),void this.handleHotKey(b);if(this.isArrow(o))return h.preventDefault(),void this.focusNextCell(l);if(l==="Enter"){if(c.currentView!==y.minView)return void c.down();if(f){let _=c._checkIfDateIsSelected(f);return void(_?c._handleAlreadySelectedDates(_,f):c.selectDate(f))}}l==="Escape"&&this.dp.hide()}),Y(this,"onKeyUp",h=>{this.removeKey(h.key)}),this.dp=a,this.opts=s,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:a,selectedDates:s,parsedViewDate:{year:h,month:l}}=this.dp,o=e||s[s.length-1];if(!o)switch(a){case d.days:o=new Date(h,l,new Date().getDate());break;case d.months:o=new Date(h,l,1);break;case d.years:o=new Date(h,0,1)}return o}focusNextCell(e){let a=this.getInitialFocusDate(),{currentView:s}=this.dp,{days:h,months:l,years:o}=d,c=p(a),f=c.year,y=c.month,b=c.date;switch(e){case"ArrowLeft":s===h&&(b-=1),s===l&&(y-=1),s===o&&(f-=1);break;case"ArrowUp":s===h&&(b-=7),s===l&&(y-=3),s===o&&(f-=4);break;case"ArrowRight":s===h&&(b+=1),s===l&&(y+=1),s===o&&(f+=1);break;case"ArrowDown":s===h&&(b+=7),s===l&&(y+=3),s===o&&(f+=4)}let _=this.dp.getClampedDate(new Date(f,y,b));this.dp.setFocusDate(_,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let gt={on(u,e){this.__events||(this.__events={}),this.__events[u]?this.__events[u].push(e):this.__events[u]=[e]},off(u,e){this.__events&&this.__events[u]&&(this.__events[u]=this.__events[u].filter(a=>a!==e))},removeAllEvents(){this.__events={}},trigger(u){for(var e=arguments.length,a=new Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];this.__events&&this.__events[u]&&this.__events[u].forEach(h=>{h(...a)})}};function M(u,e,a){return(e=function(s){var h=function(l,o){if(typeof l!="object"||l===null)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var f=c.call(l,"string");if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}(s);return typeof h=="symbol"?h:String(h)}(e))in u?Object.defineProperty(u,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[e]=a,u}let G="",q="",rt=!1;class P{static buildGlobalContainer(e){rt=!0,G=r({className:e,id:e}),i("body").appendChild(G)}constructor(e,a){var s=this;if(M(this,"viewIndexes",[d.days,d.months,d.years]),M(this,"next",()=>{let{year:o,month:c}=this.parsedViewDate;switch(this.currentView){case d.days:this.setViewDate(new Date(o,c+1,1));break;case d.months:this.setViewDate(new Date(o+1,c,1));break;case d.years:this.setViewDate(new Date(o+10,0,1))}}),M(this,"prev",()=>{let{year:o,month:c}=this.parsedViewDate;switch(this.currentView){case d.days:this.setViewDate(new Date(o,c-1,1));break;case d.months:this.setViewDate(new Date(o-1,c,1));break;case d.years:this.setViewDate(new Date(o-10,0,1))}}),M(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),M(this,"setPosition",function(o){let c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(o=o||s.opts.position)=="function")return void(s.customHide=o({$datepicker:s.$datepicker,$target:s.$el,$pointer:s.$pointer,isViewChange:c,done:s._finishHide}));let f,y,{isMobile:b}=s.opts,_=s.$el.getBoundingClientRect(),k=s.$el.getBoundingClientRect(),E=s.$datepicker.offsetParent,N=s.$el.offsetParent,A=s.$datepicker.getBoundingClientRect(),et=o.split(" "),W=window.scrollY,J=window.scrollX,$=s.opts.offset,it=et[0],at=et[1];if(b)s.$datepicker.style.cssText="left: 50%; top: 50%";else{if(E===N&&E!==document.body&&(k={top:s.$el.offsetTop,left:s.$el.offsetLeft,width:_.width,height:s.$el.offsetHeight},W=0,J=0),E!==N&&E!==document.body){let st=E.getBoundingClientRect();k={top:_.top-st.top,left:_.left-st.left,width:_.width,height:_.height},W=0,J=0}switch(it){case"top":f=k.top-A.height-$;break;case"right":y=k.left+k.width+$;break;case"bottom":f=k.top+k.height+$;break;case"left":y=k.left-A.width-$}switch(at){case"top":f=k.top;break;case"right":y=k.left+k.width-A.width;break;case"bottom":f=k.top+k.height-A.height;break;case"left":y=k.left;break;case"center":/left|right/.test(it)?f=k.top+k.height/2-A.height/2:y=k.left+k.width/2-A.width/2}s.$datepicker.style.cssText=`left: ${y+J}px; top: ${f+W}px`}}),M(this,"_setInputValue",()=>{let{opts:o,$altField:c,locale:{dateFormat:f}}=this,{altFieldDateFormat:y,altField:b}=o;b&&c&&(c.value=this._getInputValue(y)),this.$el.value=this._getInputValue(f)}),M(this,"_getInputValue",o=>{let{selectedDates:c,opts:f}=this,{multipleDates:y,multipleDatesSeparator:b}=f;if(!c.length)return"";let _=typeof o=="function",k=_?o(y?c:c[0]):c.map(E=>this.formatDate(E,o));return k=_?k:k.join(b),k}),M(this,"_checkIfDateIsSelected",function(o){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.days,f=!1;return s.selectedDates.some(y=>{let b=T(o,y,c);return f=b&&y,b}),f}),M(this,"_scheduleCallAfterTransition",o=>{this._cancelScheduledCall(),o&&o(!1),this._onTransitionEnd=()=>{o&&o(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),M(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),M(this,"setViewDate",o=>{if(!((o=R(o))instanceof Date)||T(o,this.viewDate))return;let c=this.viewDate;this.viewDate=o;let{onChangeViewDate:f}=this.opts;if(f){let{month:y,year:b}=this.parsedViewDate;f({month:y,year:b,decade:this.curDecade})}this.trigger(d.eventChangeViewDate,o,c)}),M(this,"setFocusDate",function(o){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!o||(o=R(o))instanceof Date)&&(s.focusDate=o,s.opts.range&&o&&s._handleRangeOnFocus(),s.trigger(d.eventChangeFocusDate,o,c))}),M(this,"setCurrentView",o=>{if(this.viewIndexes.includes(o)){if(this.currentView=o,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(d.eventChangeCurrentView,o),!this.views[o]){let c=this.views[o]=new j({dp:this,opts:this.opts,type:o});this.shouldUpdateDOM&&this.$content.appendChild(c.$el)}this.opts.onChangeView&&this.opts.onChangeView(o)}}),M(this,"_updateLastSelectedDate",o=>{this.lastSelectedDate=o,this.trigger(d.eventChangeLastSelectedDate,o)}),M(this,"destroy",()=>{let{showEvent:o,isMobile:c}=this.opts,f=this.$datepicker.parentNode;f&&f.removeChild(this.$datepicker),this.$el.removeEventListener(o,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),c&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),M(this,"update",function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=tt({},s.opts);tt(s.opts,o);let{timepicker:f,buttons:y,range:b,selectedDates:_,isMobile:k}=s.opts,E=s.visible||s.treatAsInline;s._createMinMaxDates(),s._limitViewDateByMaxMinDates(),s._handleLocale(),!c.selectedDates&&_&&s.selectDate(_),o.view&&s.setCurrentView(o.view),s._setInputValue(),c.range&&!b?(s.rangeDateTo=!1,s.rangeDateFrom=!1):!c.range&&b&&s.selectedDates.length&&(s.rangeDateFrom=s.selectedDates[0],s.rangeDateTo=s.selectedDates[1]),c.timepicker&&!f?(E&&s.timepicker.destroy(),s.timepicker=!1,s.$timepicker.parentNode.removeChild(s.$timepicker)):!c.timepicker&&f&&s._addTimepicker(),!c.buttons&&y?s._addButtons():c.buttons&&!y?(s.buttons.destroy(),s.$buttons.parentNode.removeChild(s.$buttons)):E&&c.buttons&&y&&s.buttons.clearHtml().render(),!c.isMobile&&k?(s.treatAsInline||q||s._createMobileOverlay(),s._addMobileAttributes(),s.visible&&s._showMobileOverlay()):c.isMobile&&!k&&(s._removeMobileAttributes(),s.visible&&(q.classList.remove("-active-"),typeof s.opts.position!="function"&&s.setPosition())),E&&(s.nav.update(),s.views[s.currentView].render(),s.currentView===d.days&&s.views[s.currentView].renderDayNames())}),M(this,"isOtherMonth",o=>{let{month:c}=p(o);return c!==this.parsedViewDate.month}),M(this,"isOtherYear",o=>{let{year:c}=p(o);return c!==this.parsedViewDate.year}),M(this,"isOtherDecade",o=>{let{year:c}=p(o),[f,y]=x(this.viewDate);return c<f||c>y}),M(this,"_onChangeSelectedDate",o=>{let{silent:c}=o;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!c&&this._triggerOnSelect()})}),M(this,"_onChangeFocusedDate",function(o){let{viewDateTransition:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!o)return;let f=!1;c&&(f=s.isOtherMonth(o)||s.isOtherYear(o)||s.isOtherDecade(o)),f&&s.setViewDate(o),s.opts.onFocus&&s.opts.onFocus({datepicker:s,date:o})}),M(this,"_onChangeTime",o=>{let{hours:c,minutes:f}=o,y=new Date,{lastSelectedDate:b,opts:{onSelect:_}}=this,k=b;b||(k=y);let E=this.getCell(k,this.currentViewSingular),N=E&&E.adpCell;N&&N.isDisabled||(k.setHours(c),k.setMinutes(f),b?(this._setInputValue(),_&&this._triggerOnSelect()):this.selectDate(k))}),M(this,"_onFocus",o=>{this.visible||this.show()}),M(this,"_onBlur",o=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),M(this,"_onMouseDown",o=>{this.inFocus=!0}),M(this,"_onMouseUp",o=>{this.inFocus=!1,this.$el.focus()}),M(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),M(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),M(this,"getViewDates",function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.days;return j.getDatesFunction(o)(s)}),M(this,"isWeekend",o=>this.opts.weekends.includes(o)),M(this,"getClampedDate",o=>{let{minDate:c,maxDate:f}=this,y=o;return f&&L(o,f)?y=f:c&&H(o,c)&&(y=c),y}),this.$el=i(e),!this.$el)return;this.$datepicker=r({className:"air-datepicker"}),this.opts=tt({},t,a),this.$customContainer=!!this.opts.container&&i(this.opts.container),this.$altField=i(this.opts.altField||!1);let{view:h,startDate:l}=this.opts;l||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=R(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=h,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:a,opts:{inline:s,isMobile:h,selectedDates:l,keyboardNav:o,onlyTimepicker:c}}=this,f=i("body");(!rt||rt&&G&&!f.contains(G))&&!s&&this.elIsInput&&!this.$customContainer&&P.buildGlobalContainer(P.defaultGlobalContainerId),!h||q||a||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(s||this._bindEvents(),o&&!c&&(this.keyboardNav=new ft({dp:this,opts:e}))),l&&this.selectDate(l,{silent:!0}),this.opts.visible&&!a&&this.show(),h&&!a&&this.$el.setAttribute("readonly",!0),a&&this._createComponents()}_createMobileOverlay(){q=r({className:"air-datepicker-overlay"}),G.appendChild(q)}_createComponents(){let{opts:e,treatAsInline:a,opts:{inline:s,buttons:h,timepicker:l,position:o,classes:c,onlyTimepicker:f,isMobile:y}}=this;this._buildBaseHtml(),this.elIsInput&&(s||this._setPositionClasses(o)),!s&&this.elIsInput||this.$datepicker.classList.add("-inline-"),c&&this.$datepicker.classList.add(...c.split(" ")),f&&this.$datepicker.classList.add("-only-timepicker-"),y&&!a&&this._addMobileAttributes(),this.views[this.currentView]=new j({dp:this,type:this.currentView,opts:e}),this.nav=new ut({dp:this,opts:e}),l&&this._addTimepicker(),h&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){q.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){q.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:a}=this.opts;this.minDate=!!e&&R(e),this.maxDate=!!a&&R(a)}_addTimepicker(){this.$timepicker=r({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new pt({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=r({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new mt({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(d.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(d.eventChangeFocusDate,this._onChangeFocusedDate),this.on(d.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var a,s;this.elIsInput?e?(a=this.$datepicker,(s=this.$el).parentNode.insertBefore(a,s.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=i(".air-datepicker--content",this.$datepicker),this.$pointer=i(".air-datepicker--pointer",this.$datepicker),this.$nav=i(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:a,firstDay:s,timepicker:h,onlyTimepicker:l,timeFormat:o,dateTimeSeparator:c}=this.opts;var f;this.locale=(f=e,JSON.parse(JSON.stringify(f))),a&&(this.locale.dateFormat=a),o!==void 0&&o!==""&&(this.locale.timeFormat=o);let{timeFormat:y}=this.locale;if(s!==""&&(this.locale.firstDay=s),h&&typeof a!="function"){let b=y?c:"";this.locale.dateFormat=[this.locale.dateFormat,y||""].join(b)}l&&typeof a!="function"&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if(typeof e=="function")return void this.$datepicker.classList.add("-custom-position-");let a=(e=e.split(" "))[0],s=`air-datepicker -${a}-${e[1]}- -from-${a}-`;this.$datepicker.classList.add(...s.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:a,maxDate:s}=this;s&&L(e,s)&&this.setViewDate(s),a&&H(e,a)&&this.setViewDate(a)}formatDate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,a=arguments.length>1?arguments[1]:void 0;if(e=R(e),!(e instanceof Date))return;let s=a,h=this.locale,l=p(e),o=l.dayPeriod,c=x(e),f=P.replacer,y={T:e.getTime(),m:l.minutes,mm:l.fullMinutes,h:l.hours12,hh:l.fullHours12,H:l.hours,HH:l.fullHours,aa:o,AA:o.toUpperCase(),E:h.daysShort[l.day],EEEE:h.days[l.day],d:l.date,dd:l.fullDate,M:l.month+1,MM:l.fullMonth,MMM:h.monthsShort[l.month],MMMM:h.months[l.month],yy:l.year.toString().slice(-2),yyyy:l.year,yyyy1:c[0],yyyy2:c[1]};for(let[b,_]of Object.entries(y))s=f(s,nt(b),_);return s}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let a,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:h,parsedViewDate:l,selectedDates:o}=this,{updateTime:c}=s,{moveToOtherMonthsOnSelect:f,moveToOtherYearsOnSelect:y,multipleDates:b,range:_,autoClose:k,onBeforeSelect:E}=this.opts,N=o.length;if(Array.isArray(e))return e.forEach(A=>{this.selectDate(A,s)}),new Promise(A=>{setTimeout(A)});if((e=R(e))instanceof Date){if(E&&!E({date:e,datepicker:this}))return Promise.resolve();if(h===d.days&&e.getMonth()!==l.month&&f&&(a=new Date(e.getFullYear(),e.getMonth(),1)),h===d.years&&e.getFullYear()!==l.year&&y&&(a=new Date(e.getFullYear(),0,1)),a&&this.setViewDate(a),b&&!_){if(N===b)return;this._checkIfDateIsSelected(e)||o.push(e)}else if(_)switch(N){case 1:o.push(e),this.rangeDateTo||(this.rangeDateTo=e),L(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(d.eventChangeSelectedDate,{action:d.actionSelectDate,silent:s?.silent,date:e,updateTime:c}),this._updateLastSelectedDate(e),k&&!this.timepickerIsActive&&this.visible&&(b||_?_&&N===1&&this.hide():this.hide()),new Promise(A=>{setTimeout(A)})}}unselectDate(e){let a=this.selectedDates,s=this;if((e=R(e))instanceof Date)return a.some((h,l)=>{if(T(h,e))return a.splice(l,1),s.selectedDates.length?s._updateLastSelectedDate(s.selectedDates[s.selectedDates.length-1]):(s.rangeDateFrom="",s.rangeDateTo="",s._updateLastSelectedDate(!1)),this.trigger(d.eventChangeSelectedDate,{action:d.actionUnselectDate,date:e}),!0})}replaceDate(e,a){let s=this.selectedDates.find(l=>T(l,e,this.currentView)),h=this.selectedDates.indexOf(s);h<0||T(this.selectedDates[h],a,this.currentView)||(this.selectedDates[h]=a,this.trigger(d.eventChangeSelectedDate,{action:d.actionSelectDate,date:a,updateTime:!0}),this._updateLastSelectedDate(a))}clear(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.lastSelectedDate=!1,this.trigger(d.eventChangeSelectedDate,{action:d.actionUnselectDate,silent:e.silent}),new Promise(a=>{setTimeout(a)})}show(){let{onShow:e,isMobile:a}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),a&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:a}=this.opts,s=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(h=>{!this.customHide&&(h&&s||!h&&!s)&&this._finishHide(),e&&e(h)}),a&&q.classList.remove("-active-")}_triggerOnSelect(){let e=[],a=[],{selectedDates:s,locale:h,opts:{onSelect:l,multipleDates:o,range:c}}=this,f=o||c,y=typeof h.dateFormat=="function";s.length&&(e=s.map(B),a=y?o?h.dateFormat(e):e.map(b=>h.dateFormat(b)):e.map(b=>this.formatDate(b,h.dateFormat))),l({date:f?e:e[0],formattedDate:f?a:a[0],datepicker:this})}_handleAlreadySelectedDates(e,a){const{range:s,toggleSelected:h}=this.opts;let l=typeof h=="function"?h({datepicker:this,date:a}):h;s&&(l||this.selectedDates.length!==2&&this.selectDate(a)),l?this.unselectDate(a):this._updateLastSelectedDate(e)}_handleUpDownActions(e,a){if(!((e=R(e||this.focusDate||this.viewDate))instanceof Date))return;let s=a==="up"?this.viewIndex+1:this.viewIndex-1;s>2&&(s=2),s<0&&(s=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[s])}_handleRangeOnFocus(){this.selectedDates.length===1&&(L(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.day;if(!((e=R(e))instanceof Date))return;let{year:s,month:h,date:l}=p(e),o=`[data-year="${s}"]`,c=`[data-month="${h}"]`,f={[d.day]:`${o}${c}[data-date="${l}"]`,[d.month]:`${o}${c}`,[d.year]:`${o}`};return this.views[this.currentView].$el.querySelector(f[a])}_showMobileOverlay(){q.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((e,a)=>parseFloat(a)+e,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return p(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return x(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===d.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===d.days}get $container(){return this.$customContainer||G}static replacer(e,a,s){return e.replace(a,function(h,l,o,c){return l+s+c})}}var lt;return M(P,"defaults",t),M(P,"version","3.4.0"),M(P,"defaultGlobalContainerId","air-datepicker-global-container"),lt=P.prototype,Object.assign(lt,gt),D.default}()})})(ht);var kt=ht.exports;const St=bt(kt);class xt{calendar;calendarMain;btn;form;currentSelDate;currentDate;constructor(){this.form=w(".form"),this.calendar=w(".calendar"),this.calendarMain=w(".calendar__main"),this.btn=w(".calendar__btn"),this.currentSelDate=new Date,this.currentDate=new Date,this.init()}init(){this.open(),this.observer(),this.selectDate(),this.startCurrentDate()}startCurrentDate(){}selectDate(){const n=w("#start-date"),v=this;this.currentSelDate.setDate(this.currentSelDate.getDate()+7),n.html(v.formatDate(this.currentSelDate)),new St("#el",{onSelect:({date:t})=>{d(String(t))},toggleSelected:!1,selectedDates:[this.currentSelDate]}).show();function d(t){t!="undefined"&&(v.currentSelDate=new Date(t)),v.removeError(),n.html(v.formatDate(v.currentSelDate)),v.removeFinalDate()}this.removeFinalDate()}removeError(){const n=w(".form__btn-error");this.currentDate.valueOf()>this.currentSelDate.valueOf()||(this.form.removeClass("form_erroe-one"),this.btn.css("border","1px solid #e2e2e2"),n.html(""))}checkError(){const n=w(".form__btn-error");return this.currentDate.valueOf()>this.currentSelDate.valueOf()?(n.html(""),this.btn.css("border","1px solid rgb(199 41 41)"),n.html("Нельзя выбрать прошедшую/текущую дату вылета"),this.form.addClass("form_erroe-one"),!1):(this.form.removeClass("form_erroe-one"),this.btn.css("border","1px solid #e2e2e2"),n.html(""),!0)}removeFinalDate(){const n=w("#final-date"),v=+w(".form__counter-count").html(),D=new Date(this.currentSelDate);D.setDate(D.getDate()+v),n.html(this.formatDate(D))}formatDate(n){const v=n.getDate(),D=n.getMonth()+1,d=n.getFullYear(),t=v<10?"0"+v:v,i=D<10?"0"+D:D;return`${t}.${i}.${d}`}open(){this.calendar.on("click",()=>{this.calendar.toggleClass("calendar_active")});const n=this;w(document).on("click",function(v){n.calendar.has(v.target).length==0&&n.calendar.removeClass("calendar_active")})}observer(){const n=Number(this.calendarMain.height()),v=this;w(document).ready(function(){const D={root:null,rootMargin:`0px 0px -${n+30}px 0px`,threshold:1};function d(r){r.forEach(m=>{const g=Number(w(window).height()),p=Number(m.boundingClientRect.top);g>700&&p>0&&(m.isIntersecting?(v.calendar.addClass("calendar_bottom"),v.calendar.removeClass("calendar_top")):(v.calendar.addClass("calendar_top"),v.calendar.removeClass("calendar_bottom")))})}const t=w(".calendar__btn"),i=new IntersectionObserver(d,D);t.each(function(r,m){i.observe(m)})})}}class Mt{dropDown;dropMain;quatityAdults;quatityKids;addBtn;btn;children;tegContainer;error;currentAbdul;currentKids;objKidsYears;constructor(n){this.dropDown=w(n).find(".dropdown"),this.dropMain=this.dropDown.find(".dropdown__main"),this.quatityAdults=this.dropDown.find("#adults-quantity"),this.quatityKids=this.dropDown.find("#kids-quantity"),this.addBtn=this.dropDown.find(".dropdown__button-add"),this.error=this.dropDown.find(".dropdown__error"),this.btn=this.dropDown.find(".dropdown__btn"),this.children=this.dropDown.find(".dropdown__children"),this.tegContainer=w(".form__drop-tags"),this.currentAbdul=1,this.currentKids=0,this.objKidsYears={},this.init()}init(){this.open(),this.counter(this.dropDown.find(".dropdown__count-one")),this.counter(this.dropDown.find(".dropdown__count-two"),!0),this.addPeople()}open(){this.btn.on("click",()=>{this.dropDown.toggleClass("dropdown_active")});const n=this;w(document).on("click",function(v){n.dropDown.has(v.target).length==0&&n.dropDown.removeClass("dropdown_active")})}counter(n,v=!1){const D=n.find(".dropdown__count-add"),d=n.find(".dropdown__count-remove"),t=n.find(".dropdown__count-current"),i=this;function r(){let g=+t.text();if(g<9){const p=g+1;t.html(String(p)),v?i.timeout(p,!0):(i.currentAbdul=p,i.error.removeClass("dropdown__error_active-abduls"))}}function m(){let g=+t.text();if(g>0){const p=g-1;t.html(String(p)),v?i.timeout(p,!1):i.currentAbdul=p}}D.on("click",r),d.on("click",m)}addAgeSelect(n,v=!1){const d=this.dropDown.find(".children__drop").length;console.log(d);const t=[];for(const i in this.objKidsYears)for(let r=0;r<this.objKidsYears[i];r++)t.push(i);console.log(t);for(let i=0;i<n;i++)if(i>d-1){this.children.append(`
                    <div id="drop-${i}" class="children__drop">
                        <button class="children__btn">
                            <span class="children__current">${v?t[i]:"Укажите возраст"}</span>
                            <svg><use xlink:href="#chevron-left"></use></svg> 
                        </button>
                        <ul class="children__list">
                            <li>Укажите возраст</li>
                            <li>&lt; 1 год</li>
                            <li>1 год</li>
                            <li>2 года</li>
                            <li>3 года</li>
                            <li>4 года</li>
                            <li>5 лет</li>
                            <li>6 лет</li>
                            <li>7 лет</li>
                            <li>8 лет</li>
                            <li>9 лет</li>
                            <li>10 лет</li>
                            <li>11 лет</li>
                            <li>12 лет</li>
                            <li>13 лет</li>
                            <li>14 лет</li>
                            <li>15 лет</li>
                            <li>16 лет</li>
                            <li>17 лет</li>
                        </ul>
                    </div>
                `);const r=w("<script>").attr("type","text/javascript").text(`
                    function dropDown(id){
                        const drop = document.querySelector(id)
                        const li = drop.querySelectorAll('li');
                        const current = drop.querySelector('.children__current');
                        const btn  = drop.querySelector('.children__btn');
                        const listHeight = drop.querySelector('.children__list').offsetHeight;
        
                        li.forEach(item => {
                            item.addEventListener('click', () => {
                                    current.textContent = item.textContent
                                    if(item.textContent !== 'Укажите возраст'){
                                        drop.classList.remove('children__drop_error')
                                        document.querySelector('.dropdown__error').classList.remove('dropdown__error_active-kids')
                                    }
                            })
                        });
        
                        
                        drop.addEventListener('click', () => {
                            drop.classList.toggle('children__drop_active')
                        })
        
                        document.addEventListener('click', (e) => {
                            if (!drop.contains(e.target)) {
                                drop.classList.remove('children__drop_active');
                            }
                        });
        
                        function observer(){
                            const options = {
                                rootMargin: '0px 0px -' + (listHeight? listHeight + 30 : 300 ) + 'px 0px',
                                threshold: 1 
                            };  
                            const observer = new IntersectionObserver(callback, options);  
                            if(btn){
                                observer.observe(btn);
                            }
                
                            function callback(entries) {
                                entries.forEach(entry => {
                                    if (entry.isIntersecting) {
                                            drop.classList.add('children_top');
                                            drop.classList.remove('children_bottom');
                                    } else {
                                        if(window.innerHeight > 700 ){
                                            drop.classList.add('children_bottom');
                                            drop.classList.remove('children_top');
                                        }
                                    }
                                });
                            }
                        }
                        observer()
                        drop.classList.add('children__drop_opacity')
                    }
                    dropDown('#drop-${i}')
                `);w("body").append(r)}}removeAgeSelect(n){this.dropDown.find(".children__drop").each((D,d)=>{D>n-1&&(d.classList.remove("children__drop_opacity"),setTimeout(()=>{d.remove()},150))})}timeout(n,v,D=!1){function d(){const t=Math.ceil(n/2);let i=0;return t===1?i=40:t>1&&(i=t*45-5),i}D?(this.children.css("height",`${d()}px`),this.addAgeSelect(n,!0)):v?(n%2!==0&&this.children.css("height",`${d()}px`),this.addAgeSelect(n)):(n%2===0&&this.children.css("height",`${d()}px`),this.removeAgeSelect(n))}addPeople(){this.addBtn.on("click",()=>{const n=this.dropDown.find(".children__drop"),v=this,D={};if(n.each(function(t,i){const r=String(i.querySelector(".children__current")?.textContent);r==="Укажите возраст"?(i.classList.add("children__drop_error"),v.error.addClass("dropdown__error_active-kids")):D.hasOwnProperty(r)?D[r]++:D[r]=1}),this.dropDown.find(".children__drop_error").length===0)if(this.currentAbdul<1)this.error.addClass("dropdown__error_active-abduls");else{this.quatityAdults.html(String(this.currentAbdul)),sessionStorage.setItem("abduls",String(this.currentAbdul)),this.currentKids=Object.keys(D).reduce((i,r)=>(i+=+D[r],i),0),console.log(this.currentKids),this.quatityKids.html(String(this.currentKids)),sessionStorage.setItem("kids",JSON.stringify(D)),this.dropDown.removeClass("dropdown_active"),this.getTegs(D);const t=new CustomEvent("myCustomEvent");document.dispatchEvent(t)}})}getTegs(n={}){this.tegContainer.html(`
    <li>Взрослых x${this.currentAbdul}</li>
  `);for(const v in n)this.tegContainer.append(`
        <li>${v} x${n[v]}</li>
    `)}getAbduls(){return this.currentAbdul}getKids(){return this.currentKids}}class Tt{food;foodMain;btn;allLi;currentSelect;errorFood;constructor(){this.food=w(".food"),this.foodMain=w(".food__list"),this.btn=w(".food__btn"),this.allLi=this.food.find("li"),this.currentSelect=w(".food__btn-info"),this.errorFood=w(".form__error-food"),this.init()}init(){this.open(),this.observer(),this.select()}select(){this.allLi.each((n,v)=>{v.addEventListener("click",()=>{this.currentSelect.html(String(v.textContent)),this.errorFood.removeClass("form__error-food_active")})})}checkInput(){return this.currentSelect.html()=="Выбрать"?(this.errorFood.addClass("form__error-food_active"),!1):(this.errorFood.removeClass("form__error-food_active"),!0)}open(){this.food.on("click",()=>{this.food.toggleClass("food_active")});const n=this;w(document).on("click",function(v){n.food.has(v.target).length==0&&n.food.removeClass("food_active")})}observer(){const n=Number(this.foodMain.height()),v=this;w(document).ready(function(){const D={root:null,rootMargin:`0px 0px -${n+30}px 0px`,threshold:1};function d(r){r.forEach(m=>{const g=Number(w(window).height()),p=Number(m.boundingClientRect.top);g>700&&p>0&&(m.isIntersecting?(v.food.addClass("food_bottom"),v.food.removeClass("food_top")):(v.food.addClass("food_top"),v.food.removeClass("food_bottom")))})}const t=w(".food__btn"),i=new IntersectionObserver(d,D);t.each(function(r,m){i.observe(m)})})}}var Ft={exports:{}};/*!
 * jQuery Validation Plugin v1.20.0
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2023 Jörn Zaefferer
 * Released under the MIT license
 */(function(I){(function(n){I.exports?I.exports=n(Dt):n(jQuery)})(function(n){n.extend(n.fn,{validate:function(t){if(!this.length){t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.");return}var i=n.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new n.validator(t,this[0]),n.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(r){i.submitButton=r.currentTarget,n(this).hasClass("cancel")&&(i.cancelSubmit=!0),n(this).attr("formnovalidate")!==void 0&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(r){i.settings.debug&&r.preventDefault();function m(){var g,p;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(g=n("<input type='hidden'/>").attr("name",i.submitButton.name).val(n(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler&&!i.settings.debug?(p=i.settings.submitHandler.call(i,i.currentForm,r),g&&g.remove(),p!==void 0?p:!1):!0}return i.cancelSubmit?(i.cancelSubmit=!1,m()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):m():(i.focusInvalid(),!1)})),i)},valid:function(){var t,i,r;return n(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,i=n(this[0].form).validate(),this.each(function(){t=i.element(this)&&t,t||(r=r.concat(i.errorList))}),i.errorList=r),t},rules:function(t,i){var r=this[0],m=typeof this.attr("contenteditable")<"u"&&this.attr("contenteditable")!=="false",g,p,C,S,x,F;if(r!=null&&(!r.form&&m&&(r.form=this.closest("form")[0],r.name=this.attr("name")),r.form!=null)){if(t)switch(g=n.data(r.form,"validator").settings,p=g.rules,C=n.validator.staticRules(r),t){case"add":n.extend(C,n.validator.normalizeRule(i)),delete C.messages,p[r.name]=C,i.messages&&(g.messages[r.name]=n.extend(g.messages[r.name],i.messages));break;case"remove":return i?(F={},n.each(i.split(/\s/),function(T,L){F[L]=C[L],delete C[L]}),F):(delete p[r.name],C)}return S=n.validator.normalizeRules(n.extend({},n.validator.classRules(r),n.validator.attributeRules(r),n.validator.dataRules(r),n.validator.staticRules(r)),r),S.required&&(x=S.required,delete S.required,S=n.extend({required:x},S)),S.remote&&(x=S.remote,delete S.remote,S=n.extend(S,{remote:x})),S}}});var v=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};n.extend(n.expr.pseudos||n.expr[":"],{blank:function(t){return!v(""+n(t).val())},filled:function(t){var i=n(t).val();return i!==null&&!!v(""+i)},unchecked:function(t){return!n(t).prop("checked")}}),n.validator=function(t,i){this.settings=n.extend(!0,{},n.validator.defaults,t),this.currentForm=i,this.init()},n.validator.format=function(t,i){return arguments.length===1?function(){var r=n.makeArray(arguments);return r.unshift(t),n.validator.format.apply(this,r)}:(i===void 0||(arguments.length>2&&i.constructor!==Array&&(i=n.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),n.each(i,function(r,m){t=t.replace(new RegExp("\\{"+r+"\\}","g"),function(){return m})})),t)},n.extend(n.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:n([]),errorLabelContainer:n([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){!this.checkable(t)&&(t.name in this.submitted||!this.optional(t))&&this.element(t)},onkeyup:function(t,i){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];i.which===9&&this.elementValue(t)===""||n.inArray(i.keyCode,r)!==-1||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).addClass(i).removeClass(r):n(t).addClass(i).removeClass(r)},unhighlight:function(t,i,r){t.type==="radio"?this.findByName(t.name).removeClass(i).addClass(r):n(t).removeClass(i).addClass(r)}},setDefaults:function(t){n.extend(n.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:n.validator.format("Please enter no more than {0} characters."),minlength:n.validator.format("Please enter at least {0} characters."),rangelength:n.validator.format("Please enter a value between {0} and {1} characters long."),range:n.validator.format("Please enter a value between {0} and {1}."),max:n.validator.format("Please enter a value less than or equal to {0}."),min:n.validator.format("Please enter a value greater than or equal to {0}."),step:n.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=n(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||n(this.currentForm),this.containers=n(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var t=this.currentForm,i=this.groups={},r;n.each(this.settings.groups,function(g,p){typeof p=="string"&&(p=p.split(/\s/)),n.each(p,function(C,S){i[S]=g})}),r=this.settings.rules,n.each(r,function(g,p){r[g]=n.validator.normalizeRule(p)});function m(g){var p=typeof n(this).attr("contenteditable")<"u"&&n(this).attr("contenteditable")!=="false";if(!this.form&&p&&(this.form=n(this).closest("form")[0],this.name=n(this).attr("name")),t===this.form){var C=n.data(this.form,"validator"),S="on"+g.type.replace(/^validate/,""),x=C.settings;x[S]&&!n(this).is(x.ignore)&&x[S].call(C,this,g)}}n(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",m).on("click.validate","select, option, [type='radio'], [type='checkbox']",m),this.settings.invalidHandler&&n(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),n.extend(this.submitted,this.errorMap),this.invalid=n.extend({},this.errorMap),this.valid()||n(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,i=this.currentElements=this.elements();i[t];t++)this.check(i[t]);return this.valid()},element:function(t){var i=this.clean(t),r=this.validationTargetFor(i),m=this,g=!0,p,C;return r===void 0?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=n(r),C=this.groups[r.name],C&&n.each(this.groups,function(S,x){x===C&&S!==r.name&&(i=m.validationTargetFor(m.clean(m.findByName(S))),i&&i.name in m.invalid&&(m.currentElements.push(i),g=m.check(i)&&g))}),p=this.check(r)!==!1,g=g&&p,p?this.invalid[r.name]=!1:this.invalid[r.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n(t).attr("aria-invalid",!p)),g},showErrors:function(t){if(t){var i=this;n.extend(this.errorMap,t),this.errorList=n.map(this.errorMap,function(r,m){return{message:r,element:i.findByName(m)[0]}}),this.successList=n.grep(this.successList,function(r){return!(r.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){n.fn.resetForm&&n(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var i;if(this.settings.unhighlight)for(i=0;t[i];i++)this.settings.unhighlight.call(this,t[i],this.settings.errorClass,""),this.findByName(t[i].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var i=0,r;for(r in t)t[r]!==void 0&&t[r]!==null&&t[r]!==!1&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{n(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch{}},findLastActive:function(){var t=this.lastActive;return t&&n.grep(this.errorList,function(i){return i.element.name===t.name}).length===1&&t},elements:function(){var t=this,i={};return n(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||n(this).attr("name"),m=typeof n(this).attr("contenteditable")<"u"&&n(this).attr("contenteditable")!=="false";return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),m&&(this.form=n(this).closest("form")[0],this.name=r),this.form!==t.currentForm||r in i||!t.objectLength(n(this).rules())?!1:(i[r]=!0,!0)})},clean:function(t){return n(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return n(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=n([]),this.toHide=n([])},reset:function(){this.resetInternals(),this.currentElements=n([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var i=n(t),r=t.type,m=typeof i.attr("contenteditable")<"u"&&i.attr("contenteditable")!=="false",g,p;return r==="radio"||r==="checkbox"?this.findByName(t.name).filter(":checked").val():r==="number"&&typeof t.validity<"u"?t.validity.badInput?"NaN":i.val():(m?g=i.text():g=i.val(),r==="file"?g.substr(0,12)==="C:\\fakepath\\"?g.substr(12):(p=g.lastIndexOf("/"),p>=0||(p=g.lastIndexOf("\\"),p>=0)?g.substr(p+1):g):typeof g=="string"?g.replace(/\r/g,""):g)},check:function(t){t=this.validationTargetFor(this.clean(t));var i=n(t).rules(),r=n.map(i,function(F,T){return T}).length,m=!1,g=this.elementValue(t),p,C,S,x;this.abortRequest(t),typeof i.normalizer=="function"?x=i.normalizer:typeof this.settings.normalizer=="function"&&(x=this.settings.normalizer),x&&(g=x.call(t,g),delete i.normalizer);for(C in i){S={method:C,parameters:i[C]};try{if(p=n.validator.methods[C].call(this,g,t,S.parameters),p==="dependency-mismatch"&&r===1){m=!0;continue}if(m=!1,p==="pending"){this.toHide=this.toHide.not(this.errorsFor(t));return}if(!p)return this.formatAndAdd(t,S),!1}catch(F){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+S.method+"' method.",F),F instanceof TypeError&&(F.message+=".  Exception occurred when checking element "+t.id+", check the '"+S.method+"' method."),F}}if(!m)return this.objectLength(i)&&this.successList.push(t),!0},customDataMessage:function(t,i){return n(t).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||n(t).data("msg")},customMessage:function(t,i){var r=this.settings.messages[t];return r&&(r.constructor===String?r:r[i])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(arguments[t]!==void 0)return arguments[t]},defaultMessage:function(t,i){typeof i=="string"&&(i={method:i});var r=this.findDefined(this.customMessage(t.name,i.method),this.customDataMessage(t,i.method),!this.settings.ignoreTitle&&t.title||void 0,n.validator.messages[i.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),m=/\$?\{(\d+)\}/g;return typeof r=="function"?r=r.call(this,i.parameters,t):m.test(r)&&(r=n.validator.format(r.replace(m,"{$1}"),i.parameters)),r},formatAndAdd:function(t,i){var r=this.defaultMessage(t,i);this.errorList.push({message:r,element:t,method:i.method}),this.errorMap[t.name]=r,this.submitted[t.name]=r},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,i,r;for(t=0;this.errorList[t];t++)r=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,r.element,this.settings.errorClass,this.settings.validClass),this.showLabel(r.element,r.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,i=this.validElements();i[t];t++)this.settings.unhighlight.call(this,i[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return n(this.errorList).map(function(){return this.element})},showLabel:function(t,i){var r,m,g,p,C=this.errorsFor(t),S=this.idOrName(t),x=n(t).attr("aria-describedby");C.length?(C.removeClass(this.settings.validClass).addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?C.text(i||""):C.html(i||"")):(C=n("<"+this.settings.errorElement+">").attr("id",S+"-error").addClass(this.settings.errorClass),this.settings&&this.settings.escapeHtml?C.text(i||""):C.html(i||""),r=C,this.settings.wrapper&&(r=C.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement.call(this,r,n(t)):r.insertAfter(t),C.is("label")?C.attr("for",S):C.parents("label[for='"+this.escapeCssMeta(S)+"']").length===0&&(g=C.attr("id"),x?x.match(new RegExp("\\b"+this.escapeCssMeta(g)+"\\b"))||(x+=" "+g):x=g,n(t).attr("aria-describedby",x),m=this.groups[t.name],m&&(p=this,n.each(p.groups,function(F,T){T===m&&n("[name='"+p.escapeCssMeta(F)+"']",p.currentForm).attr("aria-describedby",C.attr("id"))})))),!i&&this.settings.success&&(C.text(""),typeof this.settings.success=="string"?C.addClass(this.settings.success):this.settings.success(C,t)),this.toShow=this.toShow.add(C)},errorsFor:function(t){var i=this.escapeCssMeta(this.idOrName(t)),r=n(t).attr("aria-describedby"),m="label[for='"+i+"'], label[for='"+i+"'] *";return r&&(m=m+", #"+this.escapeCssMeta(r).replace(/\s+/g,", #")),this.errors().filter(m)},escapeCssMeta:function(t){return t===void 0?"":t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),n(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return n(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,i){switch(i.nodeName.toLowerCase()){case"select":return n("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return t.length},depend:function(t,i){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,i):!0},dependTypes:{boolean:function(t){return t},string:function(t,i){return!!n(t,i.form).length},function:function(t,i){return t(i)}},optional:function(t){var i=this.elementValue(t);return!n.validator.methods.required.call(this,i,t)&&"dependency-mismatch"},elementAjaxPort:function(t){return"validate"+t.name},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,n(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n(t).removeClass(this.settings.pendingClass),i&&this.pendingRequest===0&&this.formSubmitted&&this.form()&&this.pendingRequest===0?(n(this.currentForm).trigger("submit"),this.submitButton&&n("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&this.pendingRequest===0&&this.formSubmitted&&(n(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},abortRequest:function(t){var i;this.pending[t.name]&&(i=this.elementAjaxPort(t),n.ajaxAbort(i),this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n(t).removeClass(this.settings.pendingClass))},previousValue:function(t,i){return i=typeof i=="string"&&i||"remote",n.data(t,"previousValue")||n.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:i})})},destroy:function(){this.resetForm(),n(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,i){t.constructor===String?this.classRuleSettings[t]=i:n.extend(this.classRuleSettings,t)},classRules:function(t){var i={},r=n(t).attr("class");return r&&n.each(r.split(" "),function(){this in n.validator.classRuleSettings&&n.extend(i,n.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,i,r,m){/min|max|step/.test(r)&&(i===null||/number|range|text/.test(i))&&(m=Number(m),isNaN(m)&&(m=void 0)),m||m===0?t[r]=m:i===r&&i!=="range"&&(t[i==="date"?"dateISO":r]=!0)},attributeRules:function(t){var i={},r=n(t),m=t.getAttribute("type"),g,p;for(g in n.validator.methods)g==="required"?(p=t.getAttribute(g),p===""&&(p=!0),p=!!p):p=r.attr(g),this.normalizeAttributeRule(i,m,g,p);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var i={},r=n(t),m=t.getAttribute("type"),g,p;for(g in n.validator.methods)p=r.data("rule"+g.charAt(0).toUpperCase()+g.substring(1).toLowerCase()),p===""&&(p=!0),this.normalizeAttributeRule(i,m,g,p);return i},staticRules:function(t){var i={},r=n.data(t.form,"validator");return r.settings.rules&&(i=n.validator.normalizeRule(r.settings.rules[t.name])||{}),i},normalizeRules:function(t,i){return n.each(t,function(r,m){if(m===!1){delete t[r];return}if(m.param||m.depends){var g=!0;switch(typeof m.depends){case"string":g=!!n(m.depends,i.form).length;break;case"function":g=m.depends.call(i,i);break}g?t[r]=m.param!==void 0?m.param:!0:(n.data(i.form,"validator").resetElements(n(i)),delete t[r])}}),n.each(t,function(r,m){t[r]=typeof m=="function"&&r!=="normalizer"?m(i):m}),n.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),n.each(["rangelength","range"],function(){var r;t[this]&&(Array.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:typeof t[this]=="string"&&(r=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(r[0]),Number(r[1])]))}),n.validator.autoCreateRanges&&(t.min!=null&&t.max!=null&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength!=null&&t.maxlength!=null&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if(typeof t=="string"){var i={};n.each(t.split(/\s/),function(){i[this]=!0}),t=i}return t},addMethod:function(t,i,r){n.validator.methods[t]=i,n.validator.messages[t]=r!==void 0?r:n.validator.messages[t],i.length<3&&n.validator.addClassRules(t,n.validator.normalizeRule(t))},methods:{required:function(t,i,r){if(!this.depend(r,i))return"dependency-mismatch";if(i.nodeName.toLowerCase()==="select"){var m=n(i).val();return m&&m.length>0}return this.checkable(i)?this.getLength(t,i)>0:t!=null&&t.length>0},email:function(t,i){return this.optional(i)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,i){return this.optional(i)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(){var t=!1;return function(i,r){return t||(t=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(r)||!/Invalid|NaN/.test(new Date(i).toString())}}(),dateISO:function(t,i){return this.optional(i)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,i){return this.optional(i)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,i){return this.optional(i)||/^\d+$/.test(t)},minlength:function(t,i,r){var m=Array.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||m>=r},maxlength:function(t,i,r){var m=Array.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||m<=r},rangelength:function(t,i,r){var m=Array.isArray(t)?t.length:this.getLength(t,i);return this.optional(i)||m>=r[0]&&m<=r[1]},min:function(t,i,r){return this.optional(i)||t>=r},max:function(t,i,r){return this.optional(i)||t<=r},range:function(t,i,r){return this.optional(i)||t>=r[0]&&t<=r[1]},step:function(t,i,r){var m=n(i).attr("type"),g="Step attribute on input type "+m+" is not supported.",p=["text","number","range"],C=new RegExp("\\b"+m+"\\b"),S=m&&!C.test(p.join()),x=function(H){var B=(""+H).match(/(?:\.(\d+))?$/);return B&&B[1]?B[1].length:0},F=function(H){return Math.round(H*Math.pow(10,L))},T=!0,L;if(S)throw new Error(g);return L=x(r),(x(t)>L||F(t)%F(r)!==0)&&(T=!1),this.optional(i)||T},equalTo:function(t,i,r){var m=n(r);return this.settings.onfocusout&&m.not(".validate-equalTo-blur").length&&m.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){n(i).valid()}),t===m.val()},remote:function(t,i,r,m){if(this.optional(i))return"dependency-mismatch";m=typeof m=="string"&&m||"remote";var g=this.previousValue(i,m),p,C,S;return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),g.originalMessage=g.originalMessage||this.settings.messages[i.name][m],this.settings.messages[i.name][m]=g.message,r=typeof r=="string"&&{url:r}||r,S=n.param(n.extend({data:t},r.data)),g.old===S?g.valid:(g.old=S,p=this,this.startRequest(i),C={},C[i.name]=t,n.ajax(n.extend(!0,{mode:"abort",port:this.elementAjaxPort(i),dataType:"json",data:C,context:p.currentForm,success:function(x){var F=x===!0||x==="true",T,L,H;p.settings.messages[i.name][m]=g.originalMessage,F?(H=p.formSubmitted,p.toHide=p.errorsFor(i),p.formSubmitted=H,p.successList.push(i),p.invalid[i.name]=!1,p.showErrors()):(T={},L=x||p.defaultMessage(i,{method:m,parameters:t}),T[i.name]=g.message=L,p.invalid[i.name]=!0,p.showErrors(T)),g.valid=F,p.stopRequest(i,F)}},r)),"pending")}}});var D={},d;return n.ajaxPrefilter?n.ajaxPrefilter(function(t,i,r){var m=t.port;t.mode==="abort"&&(n.ajaxAbort(m),D[m]=r)}):(d=n.ajax,n.ajax=function(t){var i=("mode"in t?t:n.ajaxSettings).mode,r=("port"in t?t:n.ajaxSettings).port;return i==="abort"?(n.ajaxAbort(r),D[r]=d.apply(this,arguments),D[r]):d.apply(this,arguments)}),n.ajaxAbort=function(t){D[t]&&(D[t].abort(),delete D[t])},n})})(Ft);document.addEventListener("DOMContentLoaded",()=>{class I{header;footer;food;input;inputBtn;tabsBtn;form;tabsSlider;dropDown;calendar;DropPeople;formBtn;stars;inputForm;constructor(){this.header=new wt,this.footer=new _t,this.food=new Tt,this.dropDown=new Ct,this.calendar=new xt,this.DropPeople=new Mt(".form__drop-guests"),this.stars=w(".form__stars-one-star"),this.input=w("#adviser-inp"),this.inputBtn=w(".adviser__btn"),this.inputForm=w("#adviser__form"),this.tabsBtn=w(".form__tabs"),this.form=w(".form"),this.formBtn=this.form.find(".form__btn"),this.tabsSlider=w(".form__tabs-slider"),this.inputMask(".adviser__input"),this.inputMask(".form__phone"),this.validateTel("#adviser__form"),this.tabs(),this.points(),this.stopReload(),this.clickFormBtn(),this.SelectStars(),this.counter()}SelectStars(){const v=this;this.stars.each((d,t)=>{t.addEventListener("click",()=>{D(Number(t.getAttribute("data-num")))})});function D(d){v.stars.each((t,i)=>{t<d?i.classList.add("form__stars-one-star_active"):i.classList.remove("form__stars-one-star_active")})}}stopReload(){this.form.on("submit",v=>{v.preventDefault()})}tabs(){const v=document.querySelector(".form__tab-one"),D=document.querySelector(".form__tab-two"),d=document.querySelector(".form__tab-three");this.tabsBtn.each((t,i)=>{i.addEventListener("click",r=>{v?.contains(r.target)?this.points(1):D?.contains(r.target)?this.points(2):d?.contains(r.target)&&this.points(3)})})}points(v=1){console.log(v);const D=document.querySelector(".form__tab-one"),d=document.querySelector(".form__tab-two"),t=document.querySelector(".form__tab-three"),i=!w(".form").is(".form_erroe-one"),r=!w(".form").is(".form_erroe-two");v===1?(t?.classList.remove("form__tab_active"),d?.classList.remove("form__tab_active"),D?.classList.add("form__tab_active"),this.form.removeClass("form_two-state form_three-state"),this.form.addClass("form_one-state"),this.tabsSlider.css({left:"0"})):v===2&&i?(t?.classList.remove("form__tab_active"),D?.classList.remove("form__tab_active"),d?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_three-state"),this.form.addClass("form_two-state"),this.tabsSlider.css({left:"33.3%"})):v===3&&i&&r&&(D?.classList.remove("form__tab_active"),d?.classList.remove("form__tab_active"),t?.classList.add("form__tab_active"),this.form.removeClass("form_one-state form_two-state"),this.form.addClass("form_three-state"),this.tabsSlider.css({left:"68%"}))}clickFormBtn(){this.formBtn.on("click",()=>{const v=w(".form").is(".form_one-state");this.calendar.checkError()&&v&&this.points(2)})}addError(v){}clickBtn(){alert("В скором времени вам позвонят."),this.input.val(""),w(".adviser__input").removeClass("adviser__input_active")}inputMask(v){const D=w(v),d=D.find("input");function t(){const r=d.val()?.length;r&&r>0?D.addClass("input_active"):D.removeClass("input_active")}function i(){const r=String(d.val()).replace(/\s/g,""),m=r.length,g=m-1,p=r[g];!/[0-9]/.test(p)||m>10?d.val(String(d.val()).slice(0,-1)):m<3?d.val(r):m>=3&&m<10&&d.val(`${r.slice(0,3)} ${r.slice(3,6)} ${r.slice(6,8)} ${r.slice(8,10)}`.trim())}d.on("input",()=>{i(),t()})}validateTel(v){w(v).validate({rules:{tel:{required:!0,minlength:13}},messages:{tel:{required:"Please enter your username",minlength:"Номер должен состоять из 10 цифр"}},highlight:function(d,t,i){w(d).addClass("input_error").removeClass(i)},unhighlight:function(d,t,i){w(d).addClass(i).removeClass("input-error")},submitHandler(d){console.log(d),alert("Мы скоро с вами свяжемся"),w(d).trigger("reset"),w(v).removeClass("input_active")}})}counter(){const v=w(".form__counter-add"),D=w(".form__counter-remove"),d=w(".form__counter-count"),t=this;function i(){let g=+d.text();if(g<18){const p=g+1;m(String(p))}}function r(){let g=+d.text();if(g>1){const p=g-1;m(String(p))}}function m(g){d.html(g),t.calendar.removeFinalDate(),sessionStorage.setItem("count",g)}v.on("click",i),D.on("click",r)}}new I});
